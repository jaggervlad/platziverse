{"version":3,"sources":["tests\\agent-tests.js"],"names":["test","require","config","logging","MetricStub","belongsTo","AgentStub","db","beforeEach","hasMany","setupDatabase","proxyquire","t","truthy","Agent"],"mappings":"AAAA;;AAEA,MAAMA,IAAI,GAAGC,OAAO,CAAC,KAAD,CAApB;;AAEA,MAAMC,MAAM,GAAG;AACbC,EAAAA,OAAO,EAAE,YAAY,CAAE;AADV,CAAf;AAIA,IAAIC,UAAU,GAAG;AACfC,EAAAA,SAAS,EAAE,YAAW,CAAE;AADT,CAAjB;AAIA,IAAIC,SAAS,GAAG,IAAhB;AAEA,IAAIC,EAAE,GAAG,IAAT;AAEAP,IAAI,CAACQ,UAAL,CAAgB,YAAY;AAC1BF,EAAAA,SAAS,GAAG;AACVG,IAAAA,OAAO,EAAE,YAAW,CAAE;AADZ,GAAZ;AAIA,QAAMC,aAAa,GAAGC,UAAU,CAAC,KAAD,EAAQ;AACtC,sBAAkB,MAAOL,SADa;AAEtC,uBAAmB,MAAOF;AAFY,GAAR,CAAhC;AAKAG,EAAAA,EAAE,GAAG,MAAMG,aAAa,CAACR,MAAD,CAAxB;AACD,CAXD;AAaAF,IAAI,CAAC,OAAD,EAAUY,CAAC,IAAI;AACjBA,EAAAA,CAAC,CAACC,MAAF,CAASN,EAAE,CAACO,KAAZ,EAAmB,6BAAnB;AACD,CAFG,CAAJ","sourceRoot":"C:\\Users\\USER\\Desktop\\platziverse\\platziverse-db","sourcesContent":["'use strict'\r\n\r\nconst test = require('ava')\r\n\r\nconst config = {\r\n  logging: function () {}\r\n}\r\n\r\nlet MetricStub = {\r\n  belongsTo: function() {}\r\n}\r\n\r\nlet AgentStub = null\r\n\r\nlet db = null\r\n\r\ntest.beforeEach(async () => {\r\n  AgentStub = {\r\n    hasMany: function() {}\r\n  }\r\n\r\n  const setupDatabase = proxyquire('../', {\r\n    './models/agent': ()  => AgentStub,\r\n    './models/metric': ()  => MetricStub,\r\n  })\r\n\r\n  db = await setupDatabase(config)\r\n})\r\n\r\ntest('Agent', t => {\r\n  t.truthy(db.Agent, 'Agent service should exists')\r\n})\r\n"]}